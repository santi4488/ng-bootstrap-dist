{"version":3,"file":"checkbox.js","sourceRoot":"","sources":["../../src/buttons/checkbox.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,SAAS,EAAE,UAAU,EAAE,KAAK,EAAC,MAAM,eAAe,CAAC;AAC3D,OAAO,EAAuB,iBAAiB,EAAC,MAAM,gBAAgB,CAAC;AAEvE,OAAO,EAAC,cAAc,EAAC,MAAM,SAAS,CAAC;AAEvC,IAAM,2BAA2B,GAAG;IAClC,OAAO,EAAE,iBAAiB;IAC1B,WAAW,EAAE,UAAU,CAAC,cAAM,OAAA,WAAW,EAAX,CAAW,CAAC;IAC1C,KAAK,EAAE,IAAI;CACZ,CAAC;;;;;;IA+CA,qBAAoB,MAAsB;QAAtB,WAAM,GAAN,MAAM,CAAgB;;;;wBAtBtB,KAAK;;;;4BAKD,IAAI;;;;8BAKF,KAAK;wBAEpB,UAAC,CAAM,KAAO;yBACb,eAAQ;KAS0B;IAP9C,sBAAI,gCAAO;aAAX,UAAY,SAAkB;YAC5B,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,SAAS,CAAC;YAChC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;gBACf,IAAI,CAAC,SAAS,EAAE,CAAC;aAClB;SACF;;;OAAA;IAID,mCAAa,GAAb,UAAc,MAAM;QAClB,IAAM,gBAAgB,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC;QACzF,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC;QAChC,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;KACnC;IAED,sCAAgB,GAAhB,UAAiB,EAAuB,IAAU,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,EAAE;IAEvE,uCAAiB,GAAjB,UAAkB,EAAa,IAAU,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC,EAAE;IAE/D,sCAAgB,GAAhB,UAAiB,UAAmB;QAClC,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC;QAC3B,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,UAAU,CAAC;KACnC;IAED,gCAAU,GAAV,UAAW,KAAK;QACd,IAAI,CAAC,OAAO,GAAG,KAAK,KAAK,IAAI,CAAC,YAAY,CAAC;QAC3C,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC;KACnC;;gBA7DF,SAAS,SAAC;oBACT,QAAQ,EAAE,4BAA4B;oBACtC,IAAI,EAAE;wBACJ,cAAc,EAAE,KAAK;wBACrB,WAAW,EAAE,SAAS;wBACtB,YAAY,EAAE,UAAU;wBACxB,UAAU,EAAE,uBAAuB;wBACnC,SAAS,EAAE,gBAAgB;wBAC3B,QAAQ,EAAE,iBAAiB;qBAC5B;oBACD,SAAS,EAAE,CAAC,2BAA2B,CAAC;iBACzC;;;;gBAxBO,cAAc;;;6BA+BnB,KAAK;iCAKL,KAAK;mCAKL,KAAK;;sBA5CR;;SA4Ba,WAAW","sourcesContent":["import {Directive, forwardRef, Input} from '@angular/core';\r\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\r\n\r\nimport {NgbButtonLabel} from './label';\r\n\r\nconst NGB_CHECKBOX_VALUE_ACCESSOR = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => NgbCheckBox),\r\n  multi: true\r\n};\r\n\r\n\r\n/**\r\n * Easily create Bootstrap-style checkbox buttons. A value of a checked button is bound to a variable\r\n * specified via ngModel.\r\n */\r\n@Directive({\r\n  selector: '[ngbButton][type=checkbox]',\r\n  host: {\r\n    'autocomplete': 'off',\r\n    '[checked]': 'checked',\r\n    '[disabled]': 'disabled',\r\n    '(change)': 'onInputChange($event)',\r\n    '(focus)': 'focused = true',\r\n    '(blur)': 'focused = false'\r\n  },\r\n  providers: [NGB_CHECKBOX_VALUE_ACCESSOR]\r\n})\r\nexport class NgbCheckBox implements ControlValueAccessor {\r\n  checked;\r\n\r\n  /**\r\n   * A flag indicating if a given checkbox button is disabled.\r\n   */\r\n  @Input() disabled = false;\r\n\r\n  /**\r\n   * Value to be propagated as model when the checkbox is checked.\r\n   */\r\n  @Input() valueChecked = true;\r\n\r\n  /**\r\n   * Value to be propagated as model when the checkbox is unchecked.\r\n   */\r\n  @Input() valueUnChecked = false;\r\n\r\n  onChange = (_: any) => {};\r\n  onTouched = () => {};\r\n\r\n  set focused(isFocused: boolean) {\r\n    this._label.focused = isFocused;\r\n    if (!isFocused) {\r\n      this.onTouched();\r\n    }\r\n  }\r\n\r\n  constructor(private _label: NgbButtonLabel) {}\r\n\r\n  onInputChange($event) {\r\n    const modelToPropagate = $event.target.checked ? this.valueChecked : this.valueUnChecked;\r\n    this.onChange(modelToPropagate);\r\n    this.onTouched();\r\n    this.writeValue(modelToPropagate);\r\n  }\r\n\r\n  registerOnChange(fn: (value: any) => any): void { this.onChange = fn; }\r\n\r\n  registerOnTouched(fn: () => any): void { this.onTouched = fn; }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n    this._label.disabled = isDisabled;\r\n  }\r\n\r\n  writeValue(value) {\r\n    this.checked = value === this.valueChecked;\r\n    this._label.active = this.checked;\r\n  }\r\n}\r\n"]}
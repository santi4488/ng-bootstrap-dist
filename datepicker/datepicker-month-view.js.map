{"version":3,"file":"datepicker-month-view.js","sourceRoot":"","sources":["../../src/datepicker/datepicker-month-view.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,SAAS,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,YAAY,EAAC,MAAM,eAAe,CAAC;AAElF,OAAO,EAAC,OAAO,EAAC,MAAM,YAAY,CAAC;AACnC,OAAO,EAAC,iBAAiB,EAAC,MAAM,mBAAmB,CAAC;;IA+DlD,gCAAmB,IAAuB;QAAvB,SAAI,GAAJ,IAAI,CAAmB;sBAFvB,IAAI,YAAY,EAAW;KAEA;IAE9C,yCAAQ,GAAR,UAAS,GAAiB;QACxB,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACjD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;SAC1C;KACF;IAED,4CAAW,GAAX,UAAY,IAAmB;QAC7B,MAAM,CAAC,IAAI,CAAC,WAAW,KAAK,WAAW,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC,MAAM;YACpF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;KACtE;IAED,yCAAQ,GAAR,UAAS,GAAiB;QACxB,MAAM,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,QAAQ,IAAI,IAAI,CAAC,WAAW,KAAK,WAAW,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;KACpH;;gBA3EF,SAAS,SAAC;oBACT,QAAQ,EAAE,2BAA2B;oBACrC,IAAI,EAAE,EAAC,OAAO,EAAE,SAAS,EAAC;oBAC1B,MAAM,EAAE,CAAC,qnBA2BR,CAAC;oBACF,QAAQ,EAAE,mgCAkBT;iBACF;;;;gBArDO,iBAAiB;;;gCAuDtB,KAAK;0BACL,KAAK;gCACL,KAAK;iCACL,KAAK;oCACL,KAAK;2BAEL,MAAM;;iCAhET;;SAyDa,sBAAsB","sourcesContent":["import {Component, Input, TemplateRef, Output, EventEmitter} from '@angular/core';\r\nimport {MonthViewModel, DayViewModel, WeekViewModel} from './datepicker-view-model';\r\nimport {NgbDate} from './ngb-date';\r\nimport {NgbDatepickerI18n} from './datepicker-i18n';\r\nimport {DayTemplateContext} from './datepicker-day-template-context';\r\n\r\n@Component({\r\n  selector: 'ngb-datepicker-month-view',\r\n  host: {'class': 'd-block'},\r\n  styles: [`\r\n    .ngb-dp-weekday, .ngb-dp-week-number {\r\n      line-height: 2rem;\r\n    }\r\n    .ngb-dp-weekday {\r\n      color: #5bc0de;\r\n    }\r\n    .ngb-dp-week {\r\n        border-radius: 0.25rem;\r\n        display: -webkit-box;\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n    }\r\n    .ngb-dp-weekdays {\r\n      border-bottom: 1px solid rgba(0, 0, 0, 0.125);\r\n      border-radius: 0rem;\r\n    }\r\n    .ngb-dp-day, .ngb-dp-weekday, .ngb-dp-week-number {\r\n      width: 2rem;\r\n      height: 2rem;\r\n    }\r\n    .ngb-dp-day {\r\n      cursor: pointer;\r\n    }\r\n    .ngb-dp-day.disabled, .ngb-dp-day.hidden {\r\n      cursor: default;\r\n    }\r\n  `],\r\n  template: `\r\n    <div *ngIf=\"showWeekdays\" class=\"ngb-dp-week ngb-dp-weekdays bg-light\">\r\n      <div *ngIf=\"showWeekNumbers\" class=\"ngb-dp-weekday ngb-dp-showweek\"></div>\r\n      <div *ngFor=\"let w of month.weekdays\" class=\"ngb-dp-weekday small text-center font-italic\">\r\n        {{ i18n.getWeekdayShortName(w) }}\r\n      </div>\r\n    </div>\r\n    <ng-template ngFor let-week [ngForOf]=\"month.weeks\">\r\n      <div *ngIf=\"!isCollapsed(week)\" class=\"ngb-dp-week\">\r\n        <div *ngIf=\"showWeekNumbers\" class=\"ngb-dp-week-number small text-center font-italic text-muted\">{{ week.number }}</div>\r\n        <div *ngFor=\"let day of week.days\" (click)=\"doSelect(day)\" class=\"ngb-dp-day\" [class.disabled]=\"day.context.disabled\"\r\n         [class.hidden]=\"isHidden(day)\">\r\n          <ng-template [ngIf]=\"!isHidden(day)\">\r\n            <ng-template [ngTemplateOutlet]=\"dayTemplate\" [ngTemplateOutletContext]=\"day.context\"></ng-template>\r\n          </ng-template>\r\n        </div>\r\n      </div>\r\n    </ng-template>\r\n  `\r\n})\r\nexport class NgbDatepickerMonthView {\r\n  @Input() dayTemplate: TemplateRef<DayTemplateContext>;\r\n  @Input() month: MonthViewModel;\r\n  @Input() outsideDays: 'visible' | 'hidden' | 'collapsed';\r\n  @Input() showWeekdays;\r\n  @Input() showWeekNumbers;\r\n\r\n  @Output() select = new EventEmitter<NgbDate>();\r\n\r\n  constructor(public i18n: NgbDatepickerI18n) {}\r\n\r\n  doSelect(day: DayViewModel) {\r\n    if (!day.context.disabled && !this.isHidden(day)) {\r\n      this.select.emit(NgbDate.from(day.date));\r\n    }\r\n  }\r\n\r\n  isCollapsed(week: WeekViewModel) {\r\n    return this.outsideDays === 'collapsed' && week.days[0].date.month !== this.month.number &&\r\n        week.days[week.days.length - 1].date.month !== this.month.number;\r\n  }\r\n\r\n  isHidden(day: DayViewModel) {\r\n    return (this.outsideDays === 'hidden' || this.outsideDays === 'collapsed') && this.month.number !== day.date.month;\r\n  }\r\n}\r\n"]}